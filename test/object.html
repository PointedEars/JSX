<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
  "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>object.js Unit Test</title>
    <script type="text/javascript" src="../object.js"></script>
    <script type="text/javascript" src="../test/test.js"></script>
    <script type="text/javascript">
      function runTests ()
      {
        var assertFalse = jsx.test.assertFalse;
        var assertTrue = jsx.test.assertTrue;
  
        jsx.test.runner.run({
          file: "object.js",
          tests: [
            {
              feature: "jsx.object.isMethod()",
              desc: "Missing argument throws exception",
              code: function () {
                var ok = true;
                jsx.tryThis("jsx.object.isMethod()", function() { ok = false; });
                assertFalse(ok);
              }
            },
            {
              feature: "jsx.object.isMethod(false)",
              desc: "Returns <code>false</code>",
              code: function () {
                assertFalse("jsx.object.isMethod(false)");
              }
            },
            {
              feature: "jsx.object.isMethod(…)",
              desc: "Returns correct values",
              code: function () {
                assertTrue("jsx.object.isMethod(eval)");
                assertFalse("jsx.object.isMethod(this, null)");
                assertTrue("jsx.object.isMethod(this, 'eval')");
                assertFalse("jsx.object.isMethod(this, '')");
                assertTrue("jsx.object.isMethod(window, 'location', 'reload')");
                assertFalse("jsx.object.isMethod(window, 'location', 'hash')");
                assertFalse("jsx.object.isMethod('window', 'location', 'hash')");
                assertFalse("jsx.object.isMethod('window', 'location')");
                assertTrue("jsx.object.isMethod(window, 'location')");
                assertFalse("jsx.object.isMethod('foo', 'location')");
              }
            },
            {
              feature: "jsx.object.areMethods()",
              desc: "Missing argument throws exception",
              code: function () {
                var ok = true;
                jsx.tryThis("jsx.object.areMethods()", function() { ok = false; });
                assertFalse(ok);                
              }
            },
            {
              feature: "jsx.object.areMethods(this, [false])",
              desc: "Returns false",
              code: function () {
                assertFalse("jsx.object.areMethods(this, [false])");
              }
            },
            {
              feature: "jsx.object.areMethods(…)",
              desc: "Returns correct values",
              code: function () {
                assertTrue("jsx.object.areMethods(this, ['eval', 'toString'])");
                /*assertTrue("jsx.object.isMethod(this, 'eval')");
                assertFalse("jsx.object.isMethod(this, '')");
                assertTrue("jsx.object.isMethod(window, 'location', 'reload')");
                assertFalse("jsx.object.isMethod(window, 'location', 'hash')");
                assertFalse("jsx.object.isMethod('window', 'location', 'hash')");
                assertFalse("jsx.object.isMethod('window', 'location')");
                assertTrue("jsx.object.isMethod(window, 'location')");
                assertFalse("jsx.object.isMethod('foo', 'location')");
 */              }
            },
            {
              feature: "jsx.object.isNativeMethod()",
              desc: "Missing argument throws exception",
              code: function () {
                var ok = true;
                jsx.tryThis("jsx.object.isNativeMethod()", function() { ok = false; });
                assertFalse(ok);                
              }
            },
            {
              feature: "jsx.object.isNativeMethod(function)",
              desc: "Returns <code>true</code>",
              code: function () {
                assertTrue(jsx.object.isNativeMethod(function () {}));                
              }
            },
            {
              feature: "jsx.object.isNativeMethod(object.toString)",
              desc: "Returns <code>true</code>",
              code: function () {
                assertTrue(jsx.object.isNativeMethod(({}).toString));                
              }
            },
            {
              feature: "jsx.object.isNativeMethod(object)",
              desc: "Returns <code>false</code>",
              code: function () {
                assertFalse(jsx.object.isNativeMethod({}));                
              }
            }
          ]
        });
      }
    </script>
  </head>

  <body onload="runTests()">
    <h1><tt>object.js</tt> Unit&nbsp;Test</h1>
<!--     <div><a href="jsunit/testRunner?testPage=<?php -->
<!--       echo urlencode(htmlentities($_SERVER['REQUEST_URI'])); ?>&amp;autoRun=true" -->
<!--       >Run tests</a></div> -->
  </body>
</html>