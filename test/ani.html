<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
  "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Script Test Case: Animation Framework (new)</title>
    <style type="text/css">
      <!--
      div {
        background-color: red;
        color: white;
        width: 5px;
        height: 5px;
      }
      -->
    </style>

    <script src="../object.js" type="text/javascript"></script>
    <script src="../collection.js" type="text/javascript"></script>
    <script src="../dom.js" type="text/javascript"></script>
    <script src="../dom/css.js" type="text/javascript"></script>
    <script src="../dom/css/color.js" type="text/javascript"></script>
    <script src="../types.js" type="text/javascript"></script>
    <script src="../string.js" type="text/javascript"></script>
    <!-- <script src="../ani.bak.js" type="text/javascript"></script> -->
    <script src="../dom/ani.js" type="text/javascript"></script>
    <!-- <script src="firebug/firebug.js" type="text/javascript"></script>  -->
    <script type="text/javascript">
    /*
      var anim, anim2;
      function body_load()
      {
        anim = new Animation(
          'test-object',
          [
            new Timeline({
              style: {
                left:   { from: 400, to: 0 },
                top:    { from: 200, by: -100 },
                width:  { from: 200, to: 100 },
                height: { from: 200, to: 100 }
              },
              duration: 1000
            }),
            {
              style: {
                top:    { to: 0 }
              },
              duration: 1000
            }
          ]);
        
        anim2 = new Animation(
          'test-object',
          new Timeline([
            new KeyFrame({
              time: 0,
              style: {
                left:   400,
                top:    200,
                width:  200,
                height: 200
              }
            }),
            new KeyFrame({
              time: 1000,
              style: {
                left:   0,
                top:    {by: -100},
                width:  100,
                height: 100
              }
            }),
            new Pause(1000),
            new KeyFrame({
              style: {
                top: 1000
              }
            })
          ])
        );
      }
      */
      
      var anim;
      function body_load()
      {
        var target = document.getElementById("test-object");
        var Animation = jsx.dom.animation.Animation;
        var Timeline = jsx.dom.animation.Timeline;
        var KeyFrame = jsx.dom.animation.KeyFrame;
        var Color = jsx.dom.css.Color;
        anim = new Animation({
          target: target,
          timelines: [
            new Timeline({
              keyFrames: [
                new KeyFrame({
                  time: 0,
                  values: {
                    style: {
                      left: 0,
                      top: 0,
                      width: 10,
                      height: 10,
                      opacity: 1,
                      //backgroundColor: new Color(255, 0, 0)
                    }
                  }
                }),
                new KeyFrame({
                  time: "50%",
                  values: {
                    style: {
                      left: 100,
                      top: 100,
                      width: 100,
                      height: 100,
                      opacity: 0.5,
                      backgroundColor: new Color(0, 255, 0)
                    }
                  }
                }),
                new KeyFrame({
                  time: "4s",
                  values: {
                    style: {
                      left: 200,
                      top: 200,
                      width: 100,
                      height: 100,
                      opacity: 0,
                      backgroundColor: new Color(0, 0, 255)
                    }
                  }
                })
              ],
              autoReverse: true
            })
          ]
        });
      }      
    </script>
  </head>

  <body onload="body_load();" debug="true">
    <input type="button" value="Action!" onclick="anim.play();">
    <input type="button" value="More Action!" onclick="anim2.play();">

    <div id="test-object">
      &nbsp;
    </div>
  </body>
</html>